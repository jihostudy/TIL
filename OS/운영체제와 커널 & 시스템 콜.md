## 📌TL;DR 운영체제와 커널, 시스템 콜에 대해 알고 있는 것을 모두 설명해주세요.
### 🗣️ 답변
**운영체제**는 소프트웨어와 하드웨어를 관리하며, 사용자가 컴퓨터 간에 상호작용을 가능하게 하는 시스템 소프트웨어입니다.

운영체제는 크게 **User interface, System Call, Kernel** 3가지로 구성되어 있습니다.

대략적인 흐름으로는, User Interface인 UI는 사용자의 명령을 받아 시스템 콜을 통해 커널로 전달합니다.

그러면, 시스템은 유저 모드에서 커널 모드로 전환되어 **운영체제가 시스템 자원에 접근할 수 있는 상태로 전환**됩니다.

여기서, 이제 커널은 운영체제의 핵심 기능들을 수행합니다.

이를 테면, 파일 입출력 / 프로세스 제어 / 메모리 관리 / I/O 관리 등을 수행하여서 운영체제의 주요 역할들을 수행합니다.

운영체제에는 이외에도 시스템 라이브러리, 시스템 유틸리티 등이 있지만 운영체제에 비교하였을때 중요도가 떨어진다고 말씀드릴 수 있습니다.

## 운영체제 기초

### 운영체제 정의

하드웨어와 소프트웨어를 관리하며, 사용자와 컴퓨터 간 상호작용을 가능하게 하는 시스템 소프트웨어

운영체제는 **UI, System Call, Kernel**로 나뉘며, 동작 방식은 다음과 같다

- UI는 사용자의 명령을 받아 System Call을 통해 Kernel로 전달한다.
- **Kernel은 하드웨어와 직접 통신해 명령**을 실행하며, 실행 결과를 다시 UI로 반환한다.

아래 표는 운영체제의 주요 계층과 그 역할을 정리한 것입니다.

| 계층 | 주요 역할 | 특징 | 예시 |
| --- | --- | --- | --- |
| 사용자 인터페이스 (UI) | 사용자가 운영체제와 상호작용할 수 있도록 명령어 기반 또는 그래픽 기반의 인터페이스 제공. | CLI는 텍스트 명령 입력 방식, GUI는 그래픽과 마우스를 활용한 직관적 상호작용 방식 제공. | CLI: Bash, Command Prompt / GUI: Windows Desktop, macOS Finder. |
| 시스템 호출 (System Call) | 응용 프로그램이 운영체제의 서비스를 요청할 수 있도록 지원하는 표준화된 인터페이스. | 운영체제 기능을 안전하고 효율적으로 사용할 수 있는 표준화된 호출점(API 역할) 제공. | 파일 열기/저장, 프로세스 생성, 메모리 할당, 네트워크 소켓 생성. |
| 커널 (Kernel) | 하드웨어 자원을 직접 관리하며, 프로세스, 메모리, 파일 시스템, 장치 제어 등 핵심 기능을 수행. | 하드웨어와 응용 프로그램 사이에서 중재자 역할을 하며, 운영체제의 가장 기본적인 부분으로 시스템 안정성을 보장. | CPU 스케줄링, 메모리 할당, 파일 읽기/쓰기, 네트워크 인터페이스 관리 등. |

### 운영체제 사용 이유

운영체제는 컴퓨터 시스템의 핵심 구성 요소로, **사용자와 하드웨어 간의 중재 역할**을 수행하며 효율적이고 안전한 컴퓨터 사용 환경을 제공합니다.

아래 표는 운영체제를 사용하는 이유를 정리한 것입니다.

| **이유** | **설명** |
| --- | --- |
| **자원 관리(Resource Management)** | 운영체제는 CPU, 메모리, 디스크 등의 하드웨어 자원을 효율적으로 분배하고 관리하여 여러 응용 프로그램이 충돌 없이 원활히 실행될 수 있도록 도움. |
| **사용자 편의성(User Convenience)** | 복잡한 하드웨어의 동작 방식을 추상화하여 사용자가 명령어 또는 그래픽 기반 인터페이스를 통해 쉽게 시스템을 사용할 수 있는 환경을 제공. |
| **작업 조율 및 멀티태스킹(Task Coordination & Multitasking)** | 여러 작업을 동시에 실행하거나 조율하여 작업 간의 간섭을 방지하고 시스템의 생산성을 높이는 동시에 사용자 경험을 극대화. |
| **보안 및 안정성(Security & Stability)** | 운영체제는 데이터와 시스템을 보호하기 위한 보안 메커니즘을 제공하며, 오류가 발생했을 때 복구 절차를 통해 안정적인 시스템 운영을 보장. |
템
## 커널 모드와 사용자 모드

### 커널이란?

운영체제의 핵심으로, **하드웨어와 소프트웨어 간** **자원 관리 및 통신을 중재**하는 시스템 소프트웨어

→ 커널에서 중요한 자원을 관리하기 때문에, 사용자가 그 중요한 자원에 접근하지 못하도록 **모드를 2가지로 나누었다**.

User mode와 Kernel mode는 독립적으로 동작하지만, 사용자 응용 프로그램이 시스템 자원에 접근하려면 **시스템 호출을 통해 User mode에서 Kernel mode로 전환**해야 합니다.

### **User mode (사용자 모드)**

User mode는 **사용자 응용 프로그램이 실행되는 환경**

- **제한된 권한**만 가질 수 있다
- 운영 체제와 하드웨어 자원에 **직접 접근하지 못한다**

응용 프로그램의 안정성을 보장하기 위해 **격리된 환경에서 실행**되며, 사용자 요청은 시스템 호출을 통해 커널에게 위임됩니다.

| 특징 | - **제한된 권한**: 응용 프로그램은 시스템 호출(System Call)을 통해서만 커널 기능을 사용할 수 있습니다.
- **안정성**: 응용 프로그램의 오류가 시스템 전체에 영향을 미치지 않도록 격리된 환경에서 실행됩니다.
- **상위 계층 작업**: 사용자 인터페이스 및 데이터 요청 생성과 같은 상위 작업을 처리합니다. |
| --- | --- |
| 예시 | 브라우저(Chrome, Firefox), 워드 프로세서(MS Word), 동영상 플레이어 등 사용자와 직접 상호작용하는 프로그램들이 User mode에서 실행됩니다. |

### **Kernel mode (커널 모드)**

Kernel mode는 **운영 체제가 실행되는 환경**

- **하드웨어 및 시스템 자원에 대한 완전한 접근 권한**을 가진다.
- I/O 제어, 자원 관리, 접근 통제와 같은 핵심 작업을 수행한다.

| 특징 | - **전체 권한**: 메모리 관리, CPU 스케줄링, 파일 시스템, 네트워크 통신 등 모든 시스템 자원에 접근 가능. 
- **효율성**: 사용자 요청을 처리하고 하드웨어 자원을 최적화하여 응용 프로그램과 상호작용. 
- **안정성**: 사용자 요청은 시스템 호출(System Call)을 통해 Kernel mode에서 처리되어 시스템 보호. 
- **하위 계층 작업**: 하드웨어와의 직접적인 상호작용(예: 디스크 I/O, 네트워크 제어)을 처리 |
| --- | --- |
| 예시 | - **운영 체제 커널**: Linux 커널, Windows NT 커널 등. 
- **드라이버**: 네트워크 드라이버, 파일 시스템 드라이버. 
- **I/O 장치 제어**: 디스크, 프린터, 네트워크 장치와의 직접적인 상호작용. |

**그렇다면, 어떻게 User Mode (사용자 모드)에서 Kernel Mode(커널 모드)로 전환할 수 있을까?**

이를 알아보기 위해서는 “시스템 콜”에 대해 알아보자.

---

---

## 시스템 콜

시스템 콜은 사용자 프로그램(응용 프로그램)이 `운영체제의 기능을 사용하기 위해 제공되는 인터페이스`

운영체제는 하드웨어를 직접 제어할 수 있는 **커널 모드**에서 동작합니다.

반면, 우리가 작성하는 프로그램은 **사용자 모드**에서 동작하기 때문에 하드웨어에 직접 접근할 수 없습니다.

그래서, 하드웨어 자원(CPU, 메모리, 파일, 네트워크 등)에 접근하고 싶을 때,

> 사용자 모드 → 커널 모드로 전환하는 ‘게이트웨이’ 역할을 하는 것이 “시스템 콜”입니다.
> 

---

### **예시**

- **파일 열기:** open()
- **프로세스 생성:** fork()
- **네트워크 송신:** send()
- **메모리 할당:** mmap()

이런 함수들이 바로 시스템 콜입니다.

(C 언어에서 printf처럼 보이는 건 라이브러리 함수지만, 내부적으로는 write() 시스템 콜을 호출합니다.)

보통, 직접적으로 시스템콜을 사용하기보다 API를 사용하게 된다.

**시스템 콜의 종류 (제목만 참고하기)**

1. **프로세스 제어 (Process Control)**
    - 끝내기(exit), 중지 (abort)
    - 적재(load), 실행(execute)
    - 프로세스 생성(create process) - fork
    - 프로세스 속성 획득과 속성 설정
    - 시간 대기 (wait time)
    - 사건 대기 (wait event)
    - 사건을 알림 (signal event)
    - 메모리 할당 및 해제
2. **파일 조작 (File Manipulation)**
    - 파일 생성 / 삭제 (create, delete)
    - 열기 / 닫기 / 읽기 / 쓰기 (open, close, read, wirte)
    - 위치 변경 (reposition)
    - 파일 속성 획득 및 설정 (get file attribute, set file attribute)
3. **장치 관리 (Device Manipulation)**
    - 하드웨어의 제어와 상태 정보를 얻음 (ioctl)
    - 장치를 요구(request device), 장치를 방출 (relese device)
    - 읽기 (read), 쓰기(write), 위치 변경
    - 장치 속성 획득 및 설정
    - 장치의 논리적 부착 및 분리
4. **정보 유지 (Information Maintenance)**
    - getpid(), alarm(), sleep()
    - 시간과 날짜의 설정과 획득 (time)
    - 시스템 데이터의 설정과 획득 (date)
    - 프로세스 파일, 장치 속성의 획득 및 설정
5. **통신 (Communication)**
    - pipe(), shm_open(), mmap()
    - 통신 연결의 생성, 제거
    - 메시지의 송신, 수신
    - 상태 정보 전달
    - 원격 장치의 부착 및 분리
6. **보호 (Protection)**
    - chmod()
    - umask()
    - chown()
